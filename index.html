<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameSense.pub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #0a0a0a;
            color: #c0c0c0;
            font-size: 12px;
            line-height: 1.3;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header */
        .header {
            background: #1a1a1a;
            border-bottom: 1px solid #333;
            padding: 8px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 18px;
            font-weight: bold;
            text-decoration: none;
        }

        .logo-game {
            color: #ffffff;
        }

        .logo-sense {
            color: #00cc00;
        }

        .nav-main {
            display: flex;
            gap: 20px;
            font-size: 11px;
        }

        .nav-main a {
            color: #c0c0c0;
            text-decoration: none;
        }

        .nav-main a:hover {
            color: #00cc00;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 11px;
        }

        .premium-badge {
            background: #ffd700;
            color: #000;
            padding: 2px 6px;
            border-radius: 2px;
            font-size: 10px;
            font-weight: bold;
        }

        .logout-btn {
            background: #333;
            color: #c0c0c0;
            padding: 3px 8px;
            border: 1px solid #444;
            border-radius: 2px;
            font-size: 10px;
            cursor: pointer;
        }

        /* Premium Info */
        .premium-info {
            background: #151515;
            border-bottom: 1px solid #333;
            padding: 8px 15px;
            font-size: 11px;
        }

        .premium-text {
            color: #ffd700;
        }

        .discord-link {
            color: #00cc00;
            text-decoration: none;
            margin-left: 10px;
        }

        /* Downloads Section */
        .downloads-section {
            background: #151515;
            border: 1px solid #333;
            margin-bottom: 15px;
            padding: 20px;
        }

        .downloads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .download-item {
            background: #1a1a1a;
            border: 1px solid #333;
            padding: 15px;
            border-radius: 3px;
        }

        .download-title {
            color: #00cc00;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .download-desc {
            font-size: 11px;
            color: #999;
            margin-bottom: 10px;
        }

        .download-btn {
            background: #00cc00;
            color: #000;
            padding: 6px 12px;
            border: none;
            border-radius: 2px;
            font-weight: bold;
            cursor: pointer;
            font-size: 11px;
            width: 100%;
        }

        .download-btn:hover {
            background: #00aa00;
        }

        .file-info {
            font-size: 10px;
            color: #666;
            margin-top: 5px;
        }

        /* Code Blocks */
        .code-block {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }

        .code-header {
            background: #252525;
            padding: 8px 12px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: between;
            align-items: center;
        }

        .code-language {
            color: #00cc00;
            font-weight: bold;
            font-size: 11px;
        }

        .copy-btn {
            background: #333;
            color: #c0c0c0;
            padding: 3px 8px;
            border: 1px solid #444;
            border-radius: 2px;
            font-size: 10px;
            cursor: pointer;
        }

        .code-content {
            padding: 12px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 11px;
            overflow-x: auto;
            white-space: pre;
        }

        /* Config Preview */
        .config-preview {
            background: #1a1a1a;
            border: 1px solid #00cc00;
            border-radius: 3px;
            padding: 15px;
            margin: 10px 0;
        }

        .config-line {
            font-family: 'Consolas', monospace;
            font-size: 11px;
            margin-bottom: 3px;
        }

        .config-comment {
            color: #666;
        }

        .config-key {
            color: #00cc00;
        }

        .config-value {
            color: #ff6b6b;
        }

        /* Lua Script Section */
        .lua-section {
            background: #151515;
            border: 1px solid #333;
            margin-bottom: 15px;
            padding: 20px;
        }

        .script-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .script-btn {
            background: #333;
            color: #c0c0c0;
            padding: 6px 12px;
            border: 1px solid #444;
            border-radius: 2px;
            font-size: 11px;
            cursor: pointer;
        }

        .script-btn.primary {
            background: #00cc00;
            color: #000;
            font-weight: bold;
        }

        /* Rest of the styles remain the same as previous version */
        .main-content { margin: 15px 0; }
        .announcement { background: #151515; border: 1px solid #333; margin-bottom: 15px; }
        .announcement-header { background: #1a1a1a; padding: 8px 15px; border-bottom: 1px solid #333; color: #00cc00; font-weight: bold; font-size: 11px; }
        .announcement-content { padding: 15px; font-size: 11px; }
        .todo-list { margin-top: 10px; padding-left: 15px; }
        .todo-list li { margin-bottom: 5px; }
        .chat { background: #151515; border: 1px solid #333; margin-bottom: 15px; }
        .chat-header { background: #1a1a1a; padding: 8px 15px; border-bottom: 1px solid #333; color: #00cc00; font-weight: bold; font-size: 11px; }
        .chat-messages { padding: 10px 15px; max-height: 200px; overflow-y: auto; font-size: 11px; font-family: 'Courier New', monospace; }
        .chat-message { margin-bottom: 3px; }
        .chat-username { color: #00cc00; font-weight: bold; }
        .chat-input-container { padding: 10px 15px; border-top: 1px solid #333; display: flex; gap: 10px; }
        .chat-input { flex-grow: 1; padding: 6px 8px; background: #252525; border: 1px solid #333; color: #c0c0c0; font-size: 11px; font-family: 'Courier New', monospace; }
        .chat-send { background: #00cc00; color: #000; padding: 6px 12px; border: none; font-weight: bold; cursor: pointer; font-size: 11px; }
        .forums { background: #151515; border: 1px solid #333; margin-bottom: 15px; }
        .forum-header { background: #1a1a1a; padding: 8px 15px; border-bottom: 1px solid #333; color: #00cc00; font-weight: bold; font-size: 11px; }
        .forum-table { width: 100%; border-collapse: collapse; font-size: 11px; }
        .forum-table th { background: #252525; padding: 8px 15px; text-align: left; border-bottom: 1px solid #333; color: #00cc00; }
        .forum-table td { padding: 8px 15px; border-bottom: 1px solid #252525; }
        .forum-table tr:hover { background: #1a1a1a; }
        .new-posts { color: #00cc00; font-weight: bold; }
        .forum-section { color: #00cc00; font-weight: bold; }
        .threads { background: #151515; border: 1px solid #333; margin-bottom: 15px; }
        .thread { padding: 15px; border-bottom: 1px solid #252525; cursor: pointer; }
        .thread:hover { background: #1a1a1a; }
        .thread:last-child { border-bottom: none; }
        .thread-title { color: #00cc00; font-weight: bold; font-size: 13px; margin-bottom: 5px; }
        .thread-meta { font-size: 10px; color: #666; margin-bottom: 8px; }
        .thread-content { font-size: 11px; line-height: 1.4; margin-bottom: 10px; }
        .post-view { background: #151515; border: 1px solid #333; margin-bottom: 15px; padding: 20px; }
        .post-header { border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 15px; }
        .post-title { color: #00cc00; font-weight: bold; font-size: 16px; margin-bottom: 8px; }
        .post-meta { font-size: 11px; color: #666; }
        .post-content { font-size: 12px; line-height: 1.5; margin-bottom: 20px; }
        .post-attachment { background: #252525; padding: 10px; border: 1px solid #333; margin: 10px 0; font-size: 11px; }
        .attachment-image { max-width: 300px; max-height: 200px; margin-top: 5px; }
        .post-reactions { display: flex; gap: 15px; margin: 15px 0; padding: 10px 0; border-top: 1px solid #333; border-bottom: 1px solid #333; }
        .reaction { background: #252525; padding: 5px 10px; border: 1px solid #333; border-radius: 3px; cursor: pointer; font-size: 11px; }
        .reaction:hover { background: #333; }
        .comments-section { margin-top: 20px; }
        .comment { padding: 10px; border-bottom: 1px solid #252525; }
        .comment:last-child { border-bottom: none; }
        .comment-meta { font-size: 10px; color: #666; margin-bottom: 5px; }
        .comment-author { color: #00cc00; font-weight: bold; }
        .comment-content { font-size: 11px; line-height: 1.4; }
        .add-comment { margin-top: 15px; }
        .comment-input { width: 100%; padding: 8px 10px; background: #252525; border: 1px solid #333; color: #c0c0c0; font-size: 11px; margin-bottom: 10px; height: 60px; }
        .comment-submit { background: #00cc00; color: #000; padding: 8px 20px; border: none; font-weight: bold; cursor: pointer; font-size: 11px; }
        .create-post-page { background: #151515; border: 1px solid #333; padding: 30px; margin: 20px 0; }
        .create-post-title { color: #00cc00; font-weight: bold; font-size: 18px; margin-bottom: 20px; text-align: center; }
        .post-form input, .post-form textarea { width: 100%; padding: 10px 12px; background: #252525; border: 1px solid #333; color: #c0c0c0; font-size: 12px; margin-bottom: 15px; }
        .post-form textarea { height: 150px; resize: vertical; }
        .file-upload { background: #252525; padding: 10px; border: 1px dashed #333; margin-bottom: 15px; text-align: center; cursor: pointer; }
        .file-upload:hover { background: #2a2a2a; }
        .post-submit { background: #00cc00; color: #000; padding: 12px 30px; border: none; font-weight: bold; cursor: pointer; font-size: 12px; width: 100%; }
        .back-btn { background: #333; color: #c0c0c0; padding: 8px 15px; border: 1px solid #444; border-radius: 2px; cursor: pointer; font-size: 11px; margin-bottom: 15px; }
        .auth-section { max-width: 400px; margin: 100px auto; padding: 0 15px; }
        .auth-box { background: #1a1a1a; border: 1px solid #333; padding: 20px; }
        .auth-header { text-align: center; margin-bottom: 15px; }
        .logo-auth { font-size: 24px; font-weight: bold; margin-bottom: 5px; }
        .auth-tabs { display: flex; margin-bottom: 15px; border-bottom: 1px solid #333; }
        .auth-tab { padding: 8px 15px; color: #666; cursor: pointer; border-bottom: 2px solid transparent; font-size: 11px; }
        .auth-tab.active { color: #00cc00; border-bottom-color: #00cc00; }
        .form-group { margin-bottom: 10px; }
        .form-group label { display: block; margin-bottom: 3px; color: #00cc00; font-size: 11px; }
        .form-group input { width: 100%; padding: 6px 8px; background: #252525; border: 1px solid #333; color: #c0c0c0; font-size: 11px; }
        .submit-btn { background: #00cc00; color: #000; padding: 8px; border: none; width: 100%; font-weight: bold; cursor: pointer; font-size: 11px; margin-top: 5px; }
        .error-message { color: #ff4444; font-size: 10px; margin-top: 8px; text-align: center; }
        .info-message { background: #151515; border: 1px solid #333; padding: 15px; text-align: center; margin-top: 15px; font-size: 11px; }
        .footer { text-align: center; margin-top: 20px; color: #666; font-size: 10px; }
    </style>
</head>
<body>
    <!-- Auth Section -->
    <div id="authSection" class="auth-section">
        <div class="auth-box">
            <div class="auth-header">
                <div class="logo-auth">
                    <span style="color: #ffffff">Game</span><span style="color: #00cc00">Sense</span>
                </div>
                <div style="font-size: 11px; color: #666;">Get good. Get GameSense.</div>
            </div>

            <div class="auth-tabs">
                <div class="auth-tab active" onclick="showTab('login')">Login</div>
                <div class="auth-tab" onclick="showTab('register')">Register</div>
            </div>

            <!-- Login Form -->
            <div id="loginForm">
                <div class="form-group">
                    <label>USERNAME</label>
                    <input type="text" id="loginUsername">
                </div>
                <div class="form-group">
                    <label>PASSWORD</label>
                    <input type="password" id="loginPassword">
                </div>
                <div class="form-group">
                    <label>ACCESS KEY</label>
                    <input type="text" id="loginKey">
                </div>
                <button class="submit-btn" onclick="login()">LOGIN</button>
                <div id="loginError" class="error-message"></div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" style="display: none;">
                <div class="form-group">
                    <label>USERNAME</label>
                    <input type="text" id="regUsername">
                </div>
                <div class="form-group">
                    <label>PASSWORD</label>
                    <input type="password" id="regPassword">
                </div>
                <div class="form-group">
                    <label>ACCESS KEY</label>
                    <input type="text" id="regKey">
                </div>
                <button class="submit-btn" onclick="register()">REGISTER</button>
                <div id="regError" class="error-message"></div>
            </div>
        </div>

        <div class="info-message">
            <strong>You do not have permission to view these forums.</strong><br>
            You are not logged in.
        </div>

        <div class="footer">
            GameSense 2025
        </div>
    </div>

    <!-- Forum Section (Hidden until auth) -->
    <div id="forumSection" style="display: none;">
        <!-- Header -->
        <div class="header">
            <div class="container">
                <div class="header-content">
                    <a href="#" class="logo" onclick="showSection('index')">
                        <span class="logo-game">Game</span><span class="logo-sense">Sense</span>
                    </a>
                    <nav class="nav-main">
                        <a href="#" onclick="showSection('index')">Index</a>
                        <a href="#" onclick="showSection('downloads')">Downloads</a>
                        <a href="#" onclick="showSection('scripts')">Lua Scripts</a>
                        <a href="#" onclick="showSection('create')">Create Post</a>
                        <a href="#" onclick="showSection('threads')">Threads</a>
                        <a href="#">PNI</a>
                    </nav>
                    <div class="user-info" id="userInfo">
                        <!-- User info will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Premium Info -->
        <div class="premium-info">
            <div class="container">
                <span class="premium-text">Logged in as <strong id="currentUser">bony_fon</strong></span><br>
                <span class="premium-text">Premium (Counter-Strike: Global Offensive) until 02-01-2918 21:10:32</span>
                <a href="#" class="discord-link">Join us on discord</a>
                <a href="#" class="discord-link">Common issues</a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="container">
            <div class="main-content">
                <!-- Left Column -->
                <div>
                    <!-- Announcement -->
                    <div class="announcement">
                        <div class="announcement-header">
                            Announcement
                        </div>
                        <div class="announcement-content">
                            As soon as everything is finished, we will probably sell that script.
                            <br>--- To-do:
                            <ul class="todo-list">
                                <li>fix chat's emoji.</li>
                                <li>add discord id reset for users & admin's control panel.</li>
                                <li>add hwd reset for users & admin's control panel.</li>
                                <li>add download button.</li>
                                <li>add api for loaders.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Chat -->
                    <div class="chat">
                        <div class="chat-header">
                            Chat
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <!-- Chat messages will be loaded here -->
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Type a message...">
                            <button class="chat-send" onclick="sendMessage()">Send</button>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div>
                    <!-- Index Section -->
                    <div id="indexSection">
                        <!-- Downloads Section -->
                        <div class="downloads-section">
                            <div class="forum-header">
                                Downloads
                            </div>
                            <div class="downloads-grid">
                                <div class="download-item">
                                    <div class="download-title">GameSense Loader</div>
                                    <div class="download-desc">Main client loader with auto-update</div>
                                    <button class="download-btn" onclick="downloadFile('gamesense_loader.exe')">DOWNLOAD</button>
                                    <div class="file-info">v3.1.7 ‚Ä¢ 2.4 MB ‚Ä¢ EXE</div>
                                </div>
                                <div class="download-item">
                                    <div class="download-title">Config Pack</div>
                                    <div class="download-desc">Premium configurations pack</div>
                                    <button class="download-btn" onclick="downloadFile('config_pack.zip')">DOWNLOAD</button>
                                    <div class="file-info">v2.0 ‚Ä¢ 156 KB ‚Ä¢ ZIP</div>
                                </div>
                                <div class="download-item">
                                    <div class="download-title">Lua API</div>
                                    <div class="download-desc">Lua scripting API documentation</div>
                                    <button class="download-btn" onclick="downloadFile('lua_api.pdf')">DOWNLOAD</button>
                                    <div class="file-info">v1.5 ‚Ä¢ 890 KB ‚Ä¢ PDF</div>
                                </div>
                            </div>
                        </div>

                        <!-- General Forums -->
                        <div class="forums">
                            <div class="forum-header">
                                General
                            </div>
                            <table class="forum-table">
                                <thead>
                                    <tr>
                                        <th>Forum</th>
                                        <th>Topics</th>
                                        <th>Posts</th>
                                        <th>Last post</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="forum-section">Announcements</span> <span class="new-posts">[ New posts ]</span></td>
                                        <td id="announcementsCount">2</td>
                                        <td id="announcementsPosts">2</td>
                                        <td id="announcementsLast">Today 22:23:35 by mond</td>
                                    </tr>
                                    <tr>
                                        <td>Stay up to date with the latest news</td>
                                        <td id="newsCount">1</td>
                                        <td id="newsPosts">6</td>
                                        <td id="newsLast">Today 21:56:22 by lordmax</td>
                                    </tr>
                                    <tr>
                                        <td><span class="forum-section">General talk</span> <span class="new-posts">[ New posts ]</span></td>
                                        <td id="generalCount">0</td>
                                        <td id="generalPosts">0</td>
                                        <td id="generalLast">Never</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Downloads Section -->
                    <div id="downloadsSection" style="display: none;">
                        <div class="downloads-section">
                            <div class="forum-header">
                                Available Downloads
                            </div>
                            <div class="downloads-grid">
                                <div class="download-item">
                                    <div class="download-title">Ragebot.lua</div>
                                    <div class="download-desc">Advanced ragebot script with custom features</div>
                                    <button class="download-btn" onclick="downloadFile('ragebot.lua')">DOWNLOAD</button>
                                    <div class="file-info">v2.1 ‚Ä¢ 15 KB ‚Ä¢ LUA</div>
                                </div>
                                <div class="download-item">
                                    <div class="download-title">LegitAA.lua</div>
                                    <div class="download-desc">Legit anti-aim for competitive play</div>
                                    <button class="download-btn" onclick="downloadFile('legitaa.lua')">DOWNLOAD</button>
                                    <div class="file-info">v1.3 ‚Ä¢ 8 KB ‚Ä¢ LUA</div>
                                </div>
                                <div class="download-item">
                                    <div class="download-title">Visuals.js</div>
                                    <div class="download-desc">Enhanced visual features and ESP</div>
                                    <button class="download-btn" onclick="downloadFile('visuals.js')">DOWNLOAD</button>
                                    <div class="file-info">v1.7 ‚Ä¢ 12 KB ‚Ä¢ JS</div>
                                </div>
                                <div class="download-item">
                                    <div class="download-title">Misc.cfg</div>
                                    <div class="download-desc">Miscellaneous configuration settings</div>
                                    <button class="download-btn" onclick="downloadFile('misc.cfg')">DOWNLOAD</button>
                                    <div class="file-info">v1.0 ‚Ä¢ 3 KB ‚Ä¢ CFG</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lua Scripts Section -->
                    <div id="scriptsSection" style="display: none;">
                        <div class="lua-section">
                            <div class="forum-header">
                                Lua Scripts
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <div class="code-language">LUA ‚Ä¢ ragebot.lua</div>
                                    <button class="copy-btn" onclick="copyCode('ragebotCode')">Copy</button>
                                </div>
                                <div class="code-content" id="ragebotCode">
-- GameSense Ragebot Script v2.1
-- Advanced aiming system

local ragebot = {
    enabled = ui.new_checkbox("RAGE", "Aimbot", "Enable Ragebot"),
    target_selection = ui.new_combobox("RAGE", "Aimbot", "Target selection", "Cycle", "Distance", "Health"),
    hitbox = ui.new_multiselect("RAGE", "Aimbot", "Hitbox", "Head", "Chest", "Stomach", "Arms", "Legs"),
    hitchance = ui.new_slider("RAGE", "Aimbot", "Hit chance", 0, 100, 50),
    mindamage = ui.new_slider("RAGE", "Aimbot", "Minimum damage", 0, 100, 25)
}

function ragebot.on_paint()
    if not ui.get(ragebot.enabled) then return end
    
    local local_player = entity.get_local_player()
    if not local_player or not entity.is_alive(local_player) then return end
    
    -- Target selection logic
    local best_target = ragebot.get_best_target()
    if best_target then
        ragebot.aim_at_target(best_target)
    end
end

function ragebot.get_best_target()
    -- Advanced target selection algorithm
    local players = entity.get_players(true)
    local best_target = nil
    local best_score = -1
    
    for i = 1, #players do
        local player = players[i]
        if entity.is_alive(player) and entity.is_enemy(player) then
            local score = ragebot.calculate_target_score(player)
            if score > best_score then
                best_score = score
                best_target = player
            end
        end
    end
    
    return best_target
end

client.set_event_callback("paint", ragebot.on_paint)
                                </div>
                            </div>

                            <div class="script-actions">
                                <button class="script-btn primary" onclick="downloadFile('ragebot.lua')">Download Script</button>
                                <button class="script-btn" onclick="testScript('ragebot')">Test Script</button>
                                <button class="script-btn" onclick="shareScript('ragebot')">Share</button>
                            </div>
                        </div>

                        <div class="lua-section">
                            <div class="code-block">
                                <div class="code-header">
                                    <div class="code-language">LUA ‚Ä¢ visuals.lua</div>
                                    <button class="copy-btn" onclick="copyCode('visualsCode')">Copy</button>
                                </div>
                                <div class="code-content" id="visualsCode">
-- GameSense Visuals Script
-- Enhanced visual features

local visuals = {
    esp = ui.new_checkbox("VISUALS", "Player ESP", "Enable ESP"),
    box_esp = ui.new_checkbox("VISUALS", "Player ESP", "Bounding box"),
    health_bar = ui.new_checkbox("VISUALS", "Player ESP", "Health bar"),
    weapon_esp = ui.new_checkbox("VISUALS", "Player ESP", "Weapon info"),
    glow = ui.new_checkbox("VISUALS", "Effects", "Player glow"),
    chams = ui.new_checkbox("VISUALS", "Effects", "Player chams")
}

local function draw_esp()
    if not ui.get(visuals.esp) then return end
    
    local players = entity.get_players(true)
    for i = 1, #players do
        local player = players[i]
        if entity.is_enemy(player) then
            visuals.draw_player_info(player)
        end
    end
end

local function draw_player_info(player)
    local x1, y1, x2, y2 = entity.get_bounding_box(player)
    if not x1 then return end
    
    -- Draw bounding box
    if ui.get(visuals.box_esp) then
        renderer.rectangle(x1, y1, x2-x1, y2-y1, 255, 255, 255, 30)
        renderer.outline(x1, y1, x2-x1, y2-y1, 255, 255, 255, 255)
    end
    
    -- Draw health bar
    if ui.get(visuals.health_bar) then
        local health = entity.get_prop(player, "m_iHealth")
        local health_height = (y2 - y1) * (health / 100)
        renderer.rectangle(x1-5, y1, 3, y2-y1, 0, 0, 0, 180)
        renderer.rectangle(x1-5, y2-health_height, 3, health_height, 0, 255, 0, 255)
    end
end

client.set_event_callback("paint", draw_esp)
                                </div>
                            </div>

                            <div class="script-actions">
                                <button class="script-btn primary" onclick="downloadFile('visuals.lua')">Download Script</button>
                                <button class="script-btn" onclick="testScript('visuals')">Test Script</button>
                                <button class="script-btn" onclick="shareScript('visuals')">Share</button>
                            </div>
                        </div>
                    </div>

                    <!-- Create Post Section -->
                    <div id="createSection" style="display: none;">
                        <button class="back-btn" onclick="showSection('threads')">‚Üê Back to Threads</button>
                        <div class="create-post-page">
                            <div class="create-post-title">Create New Post</div>
                            <form class="post-form" onsubmit="createPost(event)">
                                <input type="text" id="postTitle" placeholder="Post Title" required>
                                <textarea id="postContent" placeholder="Post Content" required></textarea>
                                
                                <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                                    Click to attach files or images
                                </div>
                                <input type="file" id="fileInput" style="display: none" onchange="handleFileUpload(event)">
                                <div id="filePreview"></div>
                                
                                <input type="text" id="imageUrl" placeholder="Or enter image URL (optional)">
                                <button type="submit" class="post-submit">CREATE POST</button>
                            </form>
                        </div>
                    </div>

                    <!-- Threads Section -->
                    <div id="threadsSection" style="display: none;">
                        <div class="threads" id="threadsContainer">
                            <!-- Threads will be loaded here -->
                        </div>
                    </div>

                    <!-- Single Post Section -->
                    <div id="postSection" style="display: none;">
                        <button class="back-btn" onclick="showSection('threads')">‚Üê Back to Threads</button>
                        <div id="postContainer">
                            <!-- Single post will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Real GameSense functionality
        const system = {
            admin: {
                username: 'Monax',
                password: 'Kzrhdf1992A_',
                role: 'administrator',
                accessKey: 'GS_38838383'
            },
            users: {
                'bony_fon': {
                    password: 'test123',
                    accessKey: 'GS_12345678',
                    role: 'premium',
                    premiumUntil: '02-01-2918 21:10:32'
                }
            },
            accessKeys: {},
            hwidRecords: {},
            chatMessages: [
                {time: '22:15:39', user: 'lordmaxx', message: ''},
                {time: '22:15:39', user: 'lordmaxx', message: ''},
                {time: '22:15:39', user: 'handenawchi', message: 'rmod;'},
                {time: '22:15:43', user: 'handenawchi', message: 'mod;'},
                {time: '22:15:43', user: 'handenawchi', message: '+N;'},
                {time: '22:15:43', user: 'handenawchi', message: '=)'},
                {time: '22:15:39', user: 'handenawchi', message: '=)'},
                {time: '22:15:39', user: 'handenawchi', message: 'xx'},
                {time: '22:16:49', user: 'handenawchi', message: '‚ö†Ô∏è'}
            ],
            posts: [
                {
                    id: 1,
                    title: '[RELEASE] GameSense v3.1.7 Latest Build',
                    content: 'Latest version of GameSense with improved features and bug fixes. Download link available for premium users.',
                    author: 'Monax',
                    date: 'Today 14:32',
                    replies: 247,
                    views: 1200,
                    likes: 89,
                    files: ['gamesense_loader.exe'],
                    images: ['https://via.placeholder.com/300x200/00cc00/000000?text=GameSense+v3.1.7'],
                    comments: [
                        {author: 'user123', content: 'Great release! Working perfectly.', date: 'Today 15:20'},
                        {author: 'csgo_pro', content: 'The new features are amazing!', date: 'Today 15:45'}
                    ]
                },
                {
                    id: 2,
                    title: 'Official Configurations Repository',
                    content: 'Collection of official configurations for different playstyles. Feel free to share your own configs!',
                    author: 'System',
                    date: 'Yesterday 18:15',
                    replies: 89,
                    views: 2400,
                    likes: 45,
                    files: ['config_pack.zip'],
                    images: [],
                    comments: [
                        {author: 'config_master', content: 'My config improved my gameplay significantly!', date: 'Yesterday 19:30'}
                    ]
                }
            ],
            downloads: {
                'gamesense_loader.exe': 'GameSense Loader v3.1.7',
                'config_pack.zip': 'Premium Configurations Pack',
                'lua_api.pdf': 'Lua Scripting API Documentation',
                'ragebot.lua': 'Advanced Ragebot Script',
                'legitaa.lua': 'Legit Anti-Aim Script',
                'visuals.js': 'Enhanced Visual Features',
                'misc.cfg': 'Miscellaneous Settings'
            }
        };

        // Generate HWID
        function generateHWID() {
            return 'HWID_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        // Tab switching
        function showTab(tab) {
            document.getElementById('loginForm').style.display = tab === 'login' ? 'block' : 'none';
            document.getElementById('registerForm').style.display = tab === 'register' ? 'block' : 'none';
            
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Section switching
        function showSection(section) {
            document.getElementById('indexSection').style.display = 'none';
            document.getElementById('downloadsSection').style.display = 'none';
            document.getElementById('scriptsSection').style.display = 'none';
            document.getElementById('createSection').style.display = 'none';
            document.getElementById('threadsSection').style.display = 'none';
            document.getElementById('postSection').style.display = 'none';
            
            if (section === 'index') {
                document.getElementById('indexSection').style.display = 'block';
                updateForumStats();
            } else if (section === 'downloads') {
                document.getElementById('downloadsSection').style.display = 'block';
            } else if (section === 'scripts') {
                document.getElementById('scriptsSection').style.display = 'block';
            } else if (section === 'create') {
                document.getElementById('createSection').style.display = 'block';
            } else if (section === 'threads') {
                document.getElementById('threadsSection').style.display = 'block';
                loadThreads();
            } else if (section === 'post') {
                document.getElementById('postSection').style.display = 'block';
            }
        }

        // Download file function
        function downloadFile(filename) {
            const file = system.downloads[filename];
            if (file) {
                alert(`Downloading: ${file}\n\nIn a real GameSense forum, this would download: ${filename}`);
                
                // Simulate download
                const link = document.createElement('a');
                link.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(`-- ${file} --\nThis is a simulated download of ${filename}`);
                link.download = filename;
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        // Copy code to clipboard
        function copyCode(elementId) {
            const codeElement = document.getElementById(elementId);
            const textArea = document.createElement('textarea');
            textArea.value = codeElement.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            alert('Code copied to clipboard!');
        }

        // Test script function
        function testScript(scriptName) {
            alert(`Testing ${scriptName} script...\n\nIn GameSense, this would load the script into the client.`);
        }

        // Share script function
        function shareScript(scriptName) {
            alert(`Sharing ${scriptName} script...\n\nScript link copied to clipboard!`);
        }

        // Update forum statistics
        function updateForumStats() {
            document.getElementById('generalCount').textContent = system.posts.length;
            document.getElementById('generalPosts').textContent = system.posts.reduce((sum, post) => sum + post.replies, 0);
            
            if (system.posts.length > 0) {
                const latestPost = system.posts[0];
                document.getElementById('generalLast').textContent = `${latestPost.date} by ${latestPost.author}`;
            }
        }

        // Load chat messages
        function loadChatMessages() {
            const chatContainer = document.getElementById('chatMessages');
            chatContainer.innerHTML = '';
            
            system.chatMessages.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'chat-message';
                messageDiv.innerHTML = `[${msg.time}] <span class="chat-username">${msg.user}</span>${msg.message ? ': ' + msg.message : ''}`;
                chatContainer.appendChild(messageDiv);
            });
            
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Send chat message
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message && currentUsername) {
                const now = new Date();
                const time = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
                
                system.chatMessages.push({
                    time: time,
                    user: currentUsername,
                    message: message
                });
                
                input.value = '';
                loadChatMessages();
            }
        }

        // Load threads
        function loadThreads() {
            const threadsContainer = document.getElementById('threadsContainer');
            threadsContainer.innerHTML = '';
            
            system.posts.forEach(post => {
                const threadDiv = document.createElement('div');
                threadDiv.className = 'thread';
                threadDiv.onclick = () => viewPost(post.id);
                threadDiv.innerHTML = `
                    <div class="thread-title">${post.title}</div>
                    <div class="thread-meta">Started by ${post.author} ‚Ä¢ ${post.date} ‚Ä¢ ${post.replies} replies ‚Ä¢ ${post.views} views ‚Ä¢ ${post.likes} likes</div>
                    <div class="thread-content">${post.content}</div>
                `;
                threadsContainer.appendChild(threadDiv);
            });
        }

        // View single post
        function viewPost(postId) {
            const post = system.posts.find(p => p.id === postId);
            if (post) {
                post.views++;
                
                const postContainer = document.getElementById('postContainer');
                postContainer.innerHTML = `
                    <div class="post-view">
                        <div class="post-header">
                            <div class="post-title">${post.title}</div>
                            <div class="post-meta">Posted by ${post.author} ‚Ä¢ ${post.date} ‚Ä¢ ${post.views} views</div>
                        </div>
                        
                        <div class="post-content">${post.content}</div>
                        
                        ${post.images.length > 0 ? `
                            <div class="post-attachment">
                                <strong>Attached Images:</strong>
                                ${post.images.map(img => `<img src="${img}" class="attachment-image" alt="Post image">`).join('')}
                            </div>
                        ` : ''}
                        
                        ${post.files.length > 0 ? `
                            <div class="post-attachment">
                                <strong>Attached Files:</strong><br>
                                ${post.files.map(file => `<a href="#" onclick="downloadFile('${file}')" style="color: #00cc00;">${file}</a>`).join('<br>')}
                            </div>
                        ` : ''}
                        
                        <div class="post-reactions">
                            <div class="reaction" onclick="reactToPost(${post.id}, 'like')">üëç Like (${post.likes})</div>
                            <div class="reaction" onclick="reactToPost(${post.id}, 'dislike')">üëé Dislike</div>
                            <div class="reaction" onclick="reactToPost(${post.id}, 'love')">‚ù§Ô∏è Love</div>
                        </div>
                        
                        <div class="comments-section">
                            <div style="color: #00cc00; font-weight: bold; margin-bottom: 15px;">Comments (${post.comments.length})</div>
                            
                            ${post.comments.map(comment => `
                                <div class="comment">
                                    <div class="comment-meta">
                                        <span class="comment-author">${comment.author}</span> ‚Ä¢ ${comment.date}
                                    </div>
                                    <div class="comment-content">${comment.content}</div>
                                </div>
                            `).join('')}
                            
                            <div class="add-comment">
                                <textarea class="comment-input" id="commentInput${post.id}" placeholder="Write a comment..."></textarea>
                                <button class="comment-submit" onclick="addComment(${post.id})">POST COMMENT</button>
                            </div>
                        </div>
                    </div>
                `;
                
                showSection('post');
            }
        }

        // Handle file upload
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const filePreview = document.getElementById('filePreview');
                filePreview.innerHTML = `<div style="color: #00cc00; font-size: 11px;">File selected: ${file.name}</div>`;
            }
        }

        // Create new post
        function createPost(event) {
            event.preventDefault();
            
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const imageUrl = document.getElementById('imageUrl').value;
            const fileInput = document.getElementById('fileInput');
            
            const newPost = {
                id: system.posts.length + 1,
                title: title,
                content: content,
                author: currentUsername,
                date: 'Just now',
                replies: 0,
                views: 0,
                likes: 0,
                files: fileInput.files.length > 0 ? [fileInput.files[0].name] : [],
                images: imageUrl ? [imageUrl] : [],
                comments: []
            };
            
            system.posts.unshift(newPost);
            
            // Clear form
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.getElementById('imageUrl').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('filePreview').innerHTML = '';
            
            // Update stats and show threads
            updateForumStats();
            showSection('threads');
            alert('Post created successfully!');
        }

        // React to post
        function reactToPost(postId, reaction) {
            const post = system.posts.find(p => p.id === postId);
            if (post) {
                if (reaction === 'like') {
                    post.likes++;
                }
                viewPost(postId); // Refresh the view
            }
        }

        // Add comment to post
        function addComment(postId) {
            const commentInput = document.getElementById('commentInput' + postId);
            const comment = commentInput.value.trim();
            
            if (comment) {
                const post = system.posts.find(p => p.id === postId);
                if (post) {
                    const now = new Date();
                    const date = `Today ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                    
                    post.comments.push({
                        author: currentUsername,
                        content: comment,
                        date: date
                    });
                    
                    post.replies++;
                    commentInput.value = '';
                    viewPost(postId); // Refresh the view
                }
            }
        }

        // Enter key for chat
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('chatInput')) {
                sendMessage();
            }
        });

        let currentUsername = '';

        // Login function
        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            const key = document.getElementById('loginKey').value;
            const errorDiv = document.getElementById('loginError');

            if (!username || !password || !key) {
                errorDiv.textContent = 'Please fill all fields!';
                return;
            }

            // Admin login
            if (username === system.admin.username && password === system.admin.password) {
                if (key === system.admin.accessKey) {
                    const hwid = generateHWID();
                    system.hwidRecords[username] = hwid;
                    localStorage.setItem('gs_username', username);
                    localStorage.setItem('gs_hwid', hwid);
                    currentUsername = username;
                    showForum(username, 'administrator');
                    return;
                } else {
                    errorDiv.textContent = 'Invalid access key!';
                    return;
                }
            }

            // User login
            if (system.users[username] && system.users[username].password === password) {
                if (system.users[username].accessKey === key) {
                    const hwid = generateHWID();
                    system.hwidRecords[username] = hwid;
                    localStorage.setItem('gs_username', username);
                    localStorage.setItem('gs_hwid', hwid);
                    currentUsername = username;
                    showForum(username, system.users[username].role);
                } else {
                    errorDiv.textContent = 'Invalid access key!';
                }
            } else {
                errorDiv.textContent = 'Invalid credentials!';
            }
        }

        // Register function
        function register() {
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;
            const key = document.getElementById('regKey').value;
            const errorDiv = document.getElementById('regError');

            if (!username || !password || !key) {
                errorDiv.textContent = 'Please fill all fields!';
                return;
            }

            // Check if key is valid GS format
            if (!key.startsWith('GS_')) {
                errorDiv.textContent = 'Invalid access key format!';
                return;
            }

            // Check if username exists
            if (system.users[username] || username === system.admin.username) {
                errorDiv.textContent = 'Username already exists!';
                return;
            }

            // Register user
            system.users[username] = {
                password: password,
                accessKey: key,
                role: 'user'
            };

            const hwid = generateHWID();
            system.hwidRecords[username] = hwid;
            localStorage.setItem('gs_username', username);
            localStorage.setItem('gs_hwid', hwid);
            currentUsername = username;

            showForum(username, 'user');
        }

        // Show forum
        function showForum(username, role) {
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('forumSection').style.display = 'block';

            const userInfo = document.getElementById('userInfo');
            userInfo.innerHTML = `
                <span>${username}</span>
                ${role === 'premium' || role === 'administrator' ? '<div class="premium-badge">Premium</div>' : ''}
                <button class="logout-btn" onclick="logout()">Logout</button>
            `;

            document.getElementById('currentUser').textContent = username;
            loadChatMessages();
            updateForumStats();
        }

        // Logout
        function logout() {
            localStorage.removeItem('gs_username');
            localStorage.removeItem('gs_hwid');
            location.reload();
        }

        // Check existing session
        window.addEventListener('load', function() {
            const username = localStorage.getItem('gs_username');
            const hwid = localStorage.getItem('gs_hwid');

            if (username && hwid) {
                let role = 'user';
                if (username === system.admin.username) {
                    role = 'administrator';
                } else if (system.users[username]) {
                    role = system.users[username].role;
                }
                currentUsername = username;
                showForum(username, role);
            }
        });
    </script>
</body>
  </html>
